/*! SlotMachine - v2.0.3 - 2014-09-21
* https://github.com/josex2r/jQuery-SlotMachine
* Copyright (c) 2014 Jose Luis Represa; Licensed MIT */
!function(a,b,c,d){function e(c,e){function f(b){for(var c=0,d=0;b>d;d++)c+=a(G.get(d)).outerHeight();return-c+A}function n(){return Math.abs(Math.round(parseInt(z.css("margin-top").replace(/px/,""),10)/G.first().height()))-1}function o(a){var b,c=a||!1;do b=Math.floor(Math.random()*G.length);while(c&&b===L.index&&b>=0);return{index:b,el:G.get(b)}}function p(a){if("number"==typeof a){var b=function(){return a};E.settings.randomize=b}else E.settings.randomize=a}function q(){var a;if(null!==E.settings.randomize&&"function"==typeof E.settings.randomize){var b=E.settings.randomize(L.index);(0>b||b>=G.length)&&(b=0),a={index:b,el:G.get(b)}}else a=o();return a}function r(){var a=L.index-1<0?G.length-1:L.index-1;return{index:a,el:G.get(a)}}function s(){var a=L.index+1<G.length?L.index+1:0;return{index:a,el:G.get(a)}}function t(a,b){G.removeClass(i).removeClass(j).removeClass(k).addClass(a),b!==!0||a===m?F.add(G).removeClass(l):F.add(G).addClass(l)}function u(){z.css("margin-top",f(L.index))}function v(a){if(!x())return t(m),u(),void setTimeout(function(){w()},E.settings.delay);K=!0;var b=E.settings.delay;if("number"!=typeof a)t(i,!0),b/=2,z.animate({marginTop:B},b,"linear",function(){I===!1&&(z.css("margin-top",0),v())});else if("number"==typeof a&&a>0){switch(a){case 1:t(k,!0);break;case 2:case 3:t(j,!0),b/=1.5;break;default:t(i,!0),b/=2}z.animate({marginTop:B},b,"linear",function(){I===!1&&(z.css("margin-top",0),v(a-1))})}else w()}function w(a){if(z.clearQueue().stop(),t(k,!0),K=!0,!x())return"function"==typeof J&&J(!1,!1),t(m,!1),u(),void(K=!1);var b=o();"function"==typeof a?b=a():null!==E.settings.randomize&&"function"==typeof E.settings.randomize?b=q():E.settings.auto&&(b=s()),L.index=n(),L.el=G.get(L.index);var c=f(b.index),d=3*E.settings.delay;b.index>L.index?0===L.index&&b.index===G.length-1&&z.css("margin-top",f(G.length)):L.index===G.length-1&&0===b.index&&z.css("margin-top",0),L=b,z.animate({marginTop:c},d,"easeOutBounce",function(){t(m),K=!1,"function"==typeof J&&(J(F,L),J=null)}),setTimeout(function(){t("false",!1)},d/2)}function x(){if(E.settings.stopHidden===!1)return!1;var c=F.offset().top>a(b).scrollTop()+a(b).height(),d=a(b).scrollTop()>F.height()+F.offset().top;return!c&&!d}function y(){I===!1&&(H=setTimeout(function(){J=y,I=!1,v(5)},E.settings.auto))}this.element=c,this.settings=a.extend({},h,e),this._defaults=h,this._name=g;var z,A,B,C,D,E=this,F=a(c),G=F.children(),H=null,I=!1,J=null,K=!1,L={index:this.settings.active,el:G.get(this.settings.active)};return F.css("overflow","hidden"),(this.settings.active<0||this.settings.active>=G.length)&&(this.settings.active=0,L.index=0,L.el=G.get(0)),G.wrapAll("<div class='slotMachineContainer' />"),z=F.find(".slotMachineContainer"),B=-z.height(),C=G.last().clone(),D=G.first().clone(),z.prepend(C),z.append(D),A=-C.outerHeight(),z.css("margin-top",f(E.settings.active)),E.settings.auto!==!1&&(E.settings.auto===!0?v():y()),{auto:y,shuffle:function(a,b){I=!1,J=b,v("number"==typeof a?a:a!==d?5:d)},stop:function(a){E.settings.auto!==!1&&null!==H&&clearTimeout(H),"number"==typeof a&&a>0?(z.clearQueue().stop(!0,!1),I=!1,v(a)):(I=!0,w())},prev:function(){w(r)},next:function(){w(s)},active:function(){return L},isRunning:function(){return K},setRandomize:p}}function f(b,c){var d;return a.data(b,"plugin_"+g)?d=a.data(b,"plugin_"+g):(d=new e(b,c),a.data(b,"plugin_"+g,d)),d}var g="slotMachine",h={active:0,delay:200,auto:!1,randomize:null,stopHidden:!0},i="slotMachineBlurFast",j="slotMachineBlurMedium",k="slotMachineBlurSlow",l="slotMachineGradient",m=l;a(c).ready(function(){a("filter#slotMachineBlurSVG").length<=0&&a("body").append('<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="0" height="0"><filter id="slotMachineBlurFilterFast"><feGaussianBlur stdDeviation="5" /></filter></svg>'),a("filter#slotMachineBlurSVG").length<=0&&a("body").append('<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="0" height="0"><filter id="slotMachineBlurFilterMedium"><feGaussianBlur stdDeviation="3" /></filter></svg>'),a("filter#slotMachineBlurSVG").length<=0&&a("body").append('<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="0" height="0"><filter id="slotMachineBlurFilterSlow"><feGaussianBlur stdDeviation="1" /></filter></svg>'),a("mask#slotMachineFadeSVG").length<=0&&a("body").append('<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="0" height="0"><mask id="slotMachineFadeMask" maskUnits="objectBoundingBox" maskContentUnits="objectBoundingBox"><linearGradient id="slotMachineFadeGradient" gradientUnits="objectBoundingBox" x="0" y="0"><stop stop-color="white" stop-opacity="0" offset="0"></stop><stop stop-color="white" stop-opacity="1" offset="0.25"></stop><stop stop-color="white" stop-opacity="1" offset="0.75"></stop><stop stop-color="white" stop-opacity="0" offset="1"></stop></linearGradient><rect x="0" y="-1" width="1" height="1" transform="rotate(90)" fill="url(#slotMachineFadeGradient)"></rect></mask></svg>'),a("body").append("<style>."+i+'{-webkit-filter: blur(5px);-moz-filter: blur(5px);-o-filter: blur(5px);-ms-filter: blur(5px);filter: blur(5px);filter: url(#slotMachineBlurFilterFast);filter:progid:DXImageTransform.Microsoft.Blur(PixelRadius="5")}.'+j+'{-webkit-filter: blur(3px);-moz-filter: blur(3px);-o-filter: blur(3px);-ms-filter: blur(3px);filter: blur(3px);filter: url(#slotMachineBlurFilterMedium);filter:progid:DXImageTransform.Microsoft.Blur(PixelRadius="3")}.'+k+'{-webkit-filter: blur(1px);-moz-filter: blur(1px);-o-filter: blur(1px);-ms-filter: blur(1px);filter: blur(1px);filter: url(#slotMachineBlurFilterSlow);filter:progid:DXImageTransform.Microsoft.Blur(PixelRadius="1")}.'+l+"{-webkit-mask-image: -webkit-gradient(linear, left top, left bottom, color-stop(0%, rgba(0,0,0,0)), color-stop(25%, rgba(0,0,0,1)), color-stop(75%, rgba(0,0,0,1)), color-stop(100%, rgba(0,0,0,0)) );mask: url(#slotMachineFadeMask);}</style>")}),"function"!=typeof a.easing.easeOutBounce&&a.extend(a.easing,{easeOutBounce:function(a,b,c,d,e){return(b/=e)<1/2.75?7.5625*d*b*b+c:2/2.75>b?d*(7.5625*(b-=1.5/2.75)*b+.75)+c:2.5/2.75>b?d*(7.5625*(b-=2.25/2.75)*b+.9375)+c:d*(7.5625*(b-=2.625/2.75)*b+.984375)+c}}),a.fn[g]=function(b){return 1===this.length?f(this,b):this.each(function(){a.data(this,"plugin_"+g)||f(this,b)})}}(jQuery,window,document);